<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组扁平化</title>
</head>
<body>
    
</body>

<script>
    // 1. flat api
    // 知道维度
    // let a = [1,[2,3,[4,[5]]]];  
    // a.flat(4-1); // [1,2,3,4,5]  a是4维数组
    // 不知道维度
    // let a = [1,[2,3,[4,[5]]]];  
    // a.flat(Infinity); // [1,2,3,4,5]  a是4维数组

    // 2. ES6扩展运算符
    const flatArr1 = (arr) => {
        let tempArr = arr.slice();
        while (tempArr.some(item => Array.isArray(item))) {
            tempArr = [].concat(...tempArr)
        }
        return tempArr;
    }
  
    console.log(flatArr1([1,[2,3,[4,[5]]]]));

    // 3. 递归
    const flatArr2 = (arr) => {
        let ret = [];
        const len = arr.length;
        for (let i = 0; i < len; i++) {
            if(Array.isArray(arr[i])) {
                ret = ret.concat(flatArr2(arr[i]))
                continue
            } 
            ret.push(arr[i])
        }
        return ret;
    }

    console.log(flatArr2([1,[2,3,[4,[5]]]]));
</script>

</html>