---
title: 前端常用代码片段
display: home
lang: zh
description: 数组排序
image: https://picsum.photos/536/354?random&date=2022-10-12
date: 2022-10-12
vssue-title: vuepress-plugin-img-lazy
tags:
  - 代码片段
---

### 1. 获取地址栏中参数

```js
// 读取是地址栏参数
function getQueryVariable(variable){
  var query = window.location.href.split('?')[1]
  var vars = query.split("&");
  for (var i=0;i<vars.length;i++) {
      var pair = vars[i].split("=");
      if(pair[0] == variable){return pair[1];}
  }
  return(false);
}
```

<!-- more -->

### 2. 时间格式化方法，用于管道中

```js
//转换日期格式
export  const date=(time, type)=>{
  if(time){
    let odate;
    // 不是时间戳字符串
    if(isNaN(+time)) {
      odate = new Date(time);
    } else {
      odate = new Date();
      odate.setTime(time);
    }

    let year = odate.getFullYear();
    let month =  (odate.getMonth() + 1 < 10 ? '0' + (odate.getMonth() + 1) : odate.getMonth() + 1);
    let day = odate.getDate() < 10 ? '0' + odate.getDate() : odate.getDate();
    let hours = odate.getHours() < 10 ? '0' + odate.getHours() : odate.getHours();
    let minutes = odate.getMinutes() < 10 ? '0' + odate.getMinutes() : odate.getMinutes();
    let seconds = odate.getSeconds();
    if (type === 'DD/MM/YYYY') {
      return `${day}/${month}/${year}`
    } else if (type === 'MM/DD/YYYY HH:MM') {
      return `${day}/${month}/${year} ${hours}:${minutes}`
    }
  }
}
```

### 3. for循环内异步事件

```js
async function delay(sliceArr) {
  return new Promise((resolve, reject) => {
    // 异步操作
    Promise.all(['xxxxxx']).then(res => {
      console.log('下一个');
      resolve(res)
    })
  })
}
for (let i = 0; i < arr.length; i++) {
  // 异步事件
  const res = await delay(arr[i])
  console.log(res);
}

```